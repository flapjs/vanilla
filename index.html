<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Welcome to <a href="https://flapjs.github.io/vanilla/"><code>flap.js</code></a></h1>
<p>This is a vanilla js rewrite of the <a href="https://github.com/flapjs/webapp"><code>flap.js</code></a> project. Alternatively, you can consider this a minimal <a href="https://www.jflap.org/">JFLAP</a> clone in javscript so people only need their browser.</p>
<h1>Repo Setup</h1>
<ol>
<li>clone this repo</li>
<li>get <a href="https://nodejs.org/en/download/">Node</a> if you don't have it</li>
<li><code>cd</code> into the cloned repo and run <code>npm install --save-dev</code></li>
</ol>
<h1>Technical Overview</h1>
<h2>Machine Representation</h2>
<p>To keep things simple, a finite automaton is represented by an adjacency list, and this is the single source of truth. The adjacency list is implemented as a dictionary, with each vertex not only having its neighbors but also some additional information. Here is an example</p>
<pre class="prettyprint source"><code>const vertex = {
  x: 640,
  y: 360,
  r: 24,
  is_start: true,
  is_final: false,
  out: [edge1, edge2, ...],
};
</code></pre>
<p>For each edge, if the edge is not a self loop, then this data scheme is employed</p>
<pre class="prettyprint source"><code>const edge = { transition: 'ε', from: 'q1', to: 'q0', a1: 0.4, a2: 0.3 };
</code></pre>
<p>Otherwise, the edge is a self loop, and we store two other vectors to make the drawing work</p>
<pre class="prettyprint source"><code>const edge = { transition: 'ε', from: 'q0', to: 'q0', a1: 0.5, a2: 1.0, angle1: Math.pi/2, angle2: Math.pi };
</code></pre>
<p>More detail regarding <code>a1</code>, <code>a2</code>, <code>angle1</code>, <code>angle2</code> will be discussed below.</p>
<h2>Drawing</h2>
<p>There is no front end frameworks involved. For drawing the nodes, the <code>canvas</code> element from <code>html5</code> is used. As the name suggests, when drawing on a <code>canvas</code>, we are manipulating individual pixels on the screen. Therefore, most graphical operations require a complete redraw of the screen.</p>
<p>The drawing of edges uses the quadratic bezier curve provided by <code>canvas</code>. We specify the control point relative to where the vertices are placed so that the edges move with the vertices. In the diagram below, the red dot is the start, green dot is the control and the blue dot is the end. Moreover, the control point is stored in terms of the basis <code>v1</code> and <code>v2</code> so we get to write the control in terms of where the vertices are placed. The linear combination <code>a1*v1 + a2*v2</code> gives the coordinate of the control in terms of the standard basis (sans a translation constant).</p>
<p><img src="edge_mechanics.png" alt="edge_mechanics"></p>
<p>Now, you may wonder what is the additional <code>angle1</code> and <code>angle2</code> when we have a self loop. These two angles are where the mouse left the vertex and where it came back in the vertex. We use these two angles to determine the starting and ending point of the self loop.</p>
<h2>Running Input</h2>
<p>The simple package currently only has support for NFA (and by extention DFA). We simply do a BFS to see if we can reach a state whose <code>is_final</code> attribute is true.</p>
<h1><a href="https://flapjs.github.io/vanilla/">Documentation</a></h1>
<p>Documentation of the repo is auto generated by <code>JsDoc</code>. Currently, it is set to be run manually <code>npm run doc</code>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-compute.html">compute</a></li><li><a href="module-consts.html">consts</a></li><li><a href="module-drawing.html">drawing</a></li><li><a href="module-graph_ops.html">graph_ops</a></li><li><a href="module-history.html">history</a></li><li><a href="module-index.html">index</a></li><li><a href="module-linalg.html">linalg</a></li><li><a href="module-menus.html">menus</a></li><li><a href="module-util.html">util</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Mar 07 2022 01:09:55 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>